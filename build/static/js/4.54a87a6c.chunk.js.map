{"version":3,"sources":["store/reducers/places/selectors.js","store/reducers/places/hooks.js","Globe/Marker.js","Globe/utils.js","Globe/Globe.js","components/GlobeComponent/index.js","assets/images/lands/colors/blue.png","assets/images/lands/colors/green.png","assets/images/lands/colors/yellow.png","assets/images/lands/colors/orange.png","assets/images/lands/colors/purple.png","assets/images/lands/colors/red.png","assets/images/lands/Austin-01.png","assets/images/lands/Elko-01.png","assets/images/lands/Los_Angeles-01.png","assets/images/lands/Miami-01.png","assets/images/lands/Drottningholmv-01.png","assets/images/lands/pruebaMapa.png","assets/images/lands/cristo-redentor-corcovado-rio-de-janeiro.jpg","assets/images/lands/Humacaco.png","assets/images/lands/puertoRico.png","assets/images/lands/land-test1.png","assets/images/lands/Fonds-Saint-Denis.png","assets/images/lands/houston.png","assets/images/lands/Martiniquez.png","assets/images/lands/Mayaguez.png","assets/images/places/houston.jpg","assets/images/places/paris.jpg","assets/images/places/france.jpg","assets/images/places/chicago.jpg","assets/images/places/usa.jpg","assets/images/nfts/01-paris.jpg","assets/images/nfts/01-FRANCE.jpg","assets/images/nfts/01-Gold.jpg","assets/images/nfts/silver.jpg","assets/images/nfts/01-USA.jpg","assets/images/nfts/01-chicago.jpg","assets/images/nfts/houston.png","assets/images/nfts/dubai.png","assets/images/nfts/douglas.png","assets/images/nfts/london.png","assets/images/nfts/madrid.png","assets/images/utilities/tarjeta.png","assets/images/utilities/nfts/nft-personaje.png","assets/images/utilities/nfts/255.png","assets/images/utilities/nfts/466.png","assets/images/utilities/nfts/457.png","assets/images/utilities/nfts/841.png","assets/images/utilities/nfts/847.png","assets/images/utilities/nfts/robot.png","assets/images/utilities/nfts/1075.png","assets/images/utilities/nfts/1111.jpeg","assets/images/utilities/nfts/1112.jpeg","assets/images/utilities/isla.png","assets/images/utilities/piedras-fondo.gif","assets/images/utilities/earth-loading.gif","assets/images/utilities/index.js","assets/images/utilities/wtt-coin.png","views/MarketView.js","hooks/useEffectOnce.js","services/filters.js"],"names":["placesReducerSelector","createSelector","state","places","countriesSelector","countries","_places","countriesArray","Object","keys","reduce","acc","c","key","usePlaceReducer","useSelector","useFetchCountries","nfts","useLandNfts","dispatch","useDispatch","fetchCountries","useCallback","a","nftPlacesNames","n","attributes","value","actions","useEffect","length","useFetchPlaceSelected","place","selectedPlace","THREE","require","calculatePositionOnCanvas","topOffset","this","canvas","getBoundingClientRect","top","document","documentElement","scrollTop","widthHalf","clientWidth","heightHalf","clientHeight","temp","marker","position","clone","project","camera","x","y","Marker","posX","posY","posZ","label","globe","_opts","showHtml","markerHover","opts","radius","segments","color","lineHeight","lineWidth","highLightColor","i","undefined","normal","Vector3","sub","markerGeometry","CircleGeometry","markerMaterial","MeshBasicMaterial","Mesh","lookAt","copy","highlightedMaterial","wireframe","lightTrailGeo","PlaneGeometry","lightTrailTexture","TextureLoader","load","lightTrailMaterial","map","transparent","blending","AdditiveBlending","lightTrailMesh1","z","rotateX","Math","PI","material","side","DoubleSide","add","lightTrailMesh2","rotateY","prototype","selected","remove","unSelected","getMakerPositionOnCanvas","pos","call","clearHtml","setEnabledHtml","enable","enableHtml","module","exports","distanceTo","V1","V2","getAngle","_V1","_V2","angleTo","radiansToDegree","radians","degreeToRadians","degree","Lil","CameraControls","TWEEN","utils","addInitialData","GUI","data","next","pop","coordinates","addMarker","createGlobe","scene","globeGeo","IcosahedronBufferGeometry","globeMaterial","textureGlobe","createArrowHelper","arrowHelper","ArrowHelper","raycastGlobe","intersect","raycaster","intersectObject","_intersect","face","transformDirection","object","matrixWorld","visible","setDirection","point","raycastMarkers","meshes","markers","m","intersects","intersectObjects","intersectedObject","markerAnimate","forEach","o","uuid","raycastIntersect","Raycaster","setFromCamera","pointer","mode","raycastInit","createPath","target","tx","ty","tz","cx","cy","cz","coeff","getCameraAltitude","arc","pointStart","pointEnd","smoothness","clockWise","cb","ab","subVectors","cross","normalize","angle","angleDelta","geometry","BufferGeometry","points","_points","applyAxisAngle","push","vertices","Float32Array","setAttribute","BufferAttribute","mesh","Line","LineBasicMaterial","setArc3D","zoomIn","callback","dolly","progress","Tween","to","minZoom","onUpdate","cameraControls","dollyTo","onComplete","start","zoomOut","duration","maxZoom","followPath","_temp","floor","cameraX","cameraY","cameraZ","setLookAt","checkCameraAltitude","enabledMarkersHtml","Globe","width","height","install","active","activeTransition","Vector2","prevMarkerSelected","cameraUpdated","enabledRotation","userDragging","defaults","htmlContainer","renderer","WebGL1Renderer","antialias","setPixelRatio","window","devicePixelRatio","setSize","sortObjects","domElement","init","Scene","background","Color","ambientLight","PerspectiveCamera","aspect","updateProjectionMatrix","minDistance","maxDistance","mouseButtons","right","ACTION","NONE","draggingDampingFactor","azimuthRotateSpeed","polarRotateSpeed","initGui","destroy","_this","setTimeout","children","moveCameraToMarker","distance","range","JSON","stringify","enabled","altitude","diff","removeAll","path","distanceFromCameraToPointRange","cameraToOriginalOrbit","hasIntersected","stopTweenAnimation","getMarkerByUUID","find","getMarkerByLabel","getSelectedMaker","markerMesh","tick","delta","firstRunTime","Date","now","azimuthAngle","MathUtils","DEG2RAD","update","render","GlobeComponent","props","componentDidMount","disabledRotation","clock","canvasRef","current","appendChild","initListeners","initCameraControlsListeners","componentWillUnmount","stop","removeListeners","removeCameraControlsListeners","addEventListener","listenToScroll","onMouseMove","onMouseClick","removeEventListener","setState","scrollPosition","scrollY","onAddMarker","handleOnClickMarker","goToMarkerSelected","onClickMarker","_marker","moveCameraToOriginalOrbit","updateSize","e","pageX","pageY","enableClick","onReset","onControlStart","onControlEnd","onTransitionStart","checkMarkerHover","animate","getDelta","frameId","requestAnimationFrame","cancelAnimationFrame","image","React","createRef","htmlRef","prevProps","prevState","className","style","ref","AnimatePresence","motion","div","onClick","transform","initial","scale","exit","transition","delay","src","alt","Component","utilitiesImages","card","nft","nft1","nft2","nft3","nft4","nft5","nft6","nft7","nft8","nft9","isla","wttCoin","island","eLoading","MarketView","globeContainerRef","useRef","globeRef","searchButtonRef","useState","setGlobalSizes","useEventListener","useFetchNftLands","requestCountries","fetch","setMarkers","lands","setLands","searchText","setSearchText","selectedText","setSelected","_markers","name","xyz","l","id","title","country","filter","options","optionsFilter","search","toUpperCase","console","log","indexOf","filterSearch","innerWidth","backgroundColor","Group","xs","size","onChange","val","d","Option","dropdownClassName","onSearch","onSelect","onKeyDown","code","focus","onClear","allowClear","SearchOutlined","Tabs","tabContainerClassName","panelContainerClassName","tab","f","index","CardNftMarket"],"mappings":"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","file":"static/js/4.54a87a6c.chunk.js","sourcesContent":["import { createSelector } from 'reselect'\n\nexport const placesReducerSelector = createSelector(\n    (state) => state.places,\n    (places) => places\n)\n\nexport const countriesSelector = createSelector(\n    placesReducerSelector,\n    (places) => {\n        const countries = places.countries\n        const _places = places.places\n        const countriesArray = Object.keys(countries).reduce((acc, c) => {\n            return [...acc, { key: c, ...countries[c] }]\n        }, [])\n        return { countries, countriesArray, places: _places }\n    }\n)\n","/* eslint-disable no-unused-vars */\nimport { useCallback, useEffect } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { useLandNfts } from '../nfts/hooks'\nimport * as actions from './actions'\nimport { countriesSelector, placesReducerSelector } from './selectors'\n\nexport const usePlaceReducer = () => {\n    return useSelector(placesReducerSelector)\n}\n\nexport const useFetchCountries = () => {\n    const nfts = useLandNfts()\n\n    const dispatch = useDispatch()\n    const { countries, countriesArray, places } = useSelector(countriesSelector)\n\n    const fetchCountries = useCallback(async () => {\n        const nftPlacesNames = nfts.reduce(\n            (acc, n) => [...acc, n.attributes[0].value],\n            []\n        )\n        dispatch(actions.getContry(nftPlacesNames))\n    }, [nfts, dispatch])\n\n    useEffect(() => {\n        if (nfts.length > 0) fetchCountries()\n    }, [nfts])\n\n    return { countries, countriesArray, places }\n}\n\nexport const useFetchPlaceSelected = (place) => {\n    const { selectedPlace } = usePlaceReducer()\n\n    const dispatch = useDispatch()\n    useEffect(() => {\n        if (place) dispatch(actions.getPlace(place))\n    }, [place])\n    return selectedPlace\n}\n","const THREE = require('three')\n\nconst calculatePositionOnCanvas = function () {\n    const topOffset =\n        this.canvas.getBoundingClientRect().top +\n        document.documentElement.scrollTop\n\n    const widthHalf = this.canvas.clientWidth / 2\n    const heightHalf = this.canvas.clientHeight / 2\n\n    const temp = this.marker.position.clone()\n    temp.project(this.camera)\n    temp.x = temp.x * widthHalf + widthHalf\n    temp.y = -(temp.y * heightHalf) + heightHalf - topOffset\n\n    return temp\n}\n\nfunction Marker(\n    posX,\n    posY,\n    posZ,\n    label,\n    globe,\n    camera,\n    canvas,\n    // htmlContainer,\n    _opts\n) {\n    this.posX = posX\n    this.posY = posY\n    this.posZ = posZ\n    this.globe = globe\n    // this.htmlContainer = htmlContainer\n    this.showHtml = false\n    this.camera = camera\n    this.label = label\n    this.markerHover = false\n    this.canvas = canvas\n\n    const opts = {\n        // canvasWidth: 0,\n        // canvasHeight: 0,\n        radius: 5,\n        segments: 32,\n        color: 0xc5c000,\n        lineHeight: 45,\n        lineWidth: 8,\n        highLightColor: 0xc5c000,\n    }\n\n    if (_opts) {\n        for (var i in opts) {\n            if (_opts[i] !== undefined) {\n                opts[i] = _opts[i]\n            }\n        }\n    }\n\n    this.opts = opts\n\n    this.normal = new THREE.Vector3(this.posX, this.posY, this.posZ)\n    this.normal.sub(globe.position)\n\n    this.markerGeometry = new THREE.CircleGeometry(opts.radius, opts.segments)\n    this.markerMaterial = new THREE.MeshBasicMaterial({ color: opts.color })\n    // this.markerMaterial.side = THREE.DoubleSide\n    this.marker = new THREE.Mesh(this.markerGeometry, this.markerMaterial)\n\n    this.marker.lookAt(this.normal)\n    this.marker.position.copy(\n        new THREE.Vector3(this.posX, this.posY, this.posZ)\n    )\n\n    this.highlightedMaterial = new THREE.MeshBasicMaterial({\n        wireframe: true,\n        color: opts.highLightColor,\n    })\n\n    const lightTrailGeo = new THREE.PlaneGeometry(\n        opts.lineWidth,\n        opts.lineHeight\n    )\n    const lightTrailTexture = new THREE.TextureLoader().load('img/lightray.jpg')\n    const lightTrailMaterial = new THREE.MeshBasicMaterial({\n        map: lightTrailTexture,\n    })\n\n    lightTrailMaterial.transparent = true\n    lightTrailMaterial.blending = THREE.AdditiveBlending\n\n    this.lightTrailMesh1 = new THREE.Mesh(lightTrailGeo, lightTrailMaterial)\n\n    this.lightTrailMesh1.position.z = opts.lineHeight / 2\n    this.lightTrailMesh1.rotateX((-90 * Math.PI) / 180)\n    this.lightTrailMesh1.material.side = THREE.DoubleSide\n\n    this.marker.add(this.lightTrailMesh1)\n\n    this.lightTrailMesh2 = new THREE.Mesh(lightTrailGeo, lightTrailMaterial)\n    this.lightTrailMesh2.position.z = opts.lineHeight / 2\n    this.lightTrailMesh2.rotateX((-90 * Math.PI) / 180)\n    this.lightTrailMesh2.rotateY((90 * Math.PI) / 180)\n    this.lightTrailMesh2.material.side = THREE.DoubleSide\n\n    this.marker.add(this.lightTrailMesh2)\n\n    this.globe.add(this.marker)\n\n    // this.element = document.createElement('div')\n    // this.element.textContent = this.label\n\n    // this.element.style.color = '#ff0'\n    // this.element.style.position = 'absolute'\n    // this.element.style.left = 0\n    // this.element.style.top = 0\n}\n\nMarker.prototype.selected = function () {\n    this.marker.remove(this.lightTrailMesh1)\n    this.marker.remove(this.lightTrailMesh2)\n    this.marker.material = this.highlightedMaterial\n\n    this.markerHover = true\n}\n\nMarker.prototype.unSelected = function () {\n    this.marker.add(this.lightTrailMesh1)\n    this.marker.add(this.lightTrailMesh2)\n    this.marker.material = this.markerMaterial\n    this.markerHover = false\n\n    // if (this.showHtml) {\n    //     this.htmlContainer.removeChild(this.element)\n    //     this.showHtml = false\n    // }\n}\n\nMarker.prototype.getMakerPositionOnCanvas = function () {\n    const pos = calculatePositionOnCanvas.call(this)\n    const { x, y, z } = pos\n    return { x, y, z }\n}\n\nMarker.prototype.clearHtml = function () {\n    if (this.showHtml) {\n        this.showHtml = false\n    }\n}\n\nMarker.prototype.setEnabledHtml = function (enable) {\n    this.enableHtml = enable\n}\n\nmodule.exports = Marker\n","const THREE = require(\"three\");\r\n\r\nfunction distanceTo(V1, V2) {\r\n\treturn new THREE.Vector3(V1.x, V1.y, V1.z).distanceTo(\r\n\t\tnew THREE.Vector3(V2.x, V2.y, V2.z)\r\n\t);\r\n}\r\nfunction getAngle(V1, V2) {\r\n\tconst _V1 = new THREE.Vector3(V1.x, V1.y, V1.z);\r\n\tconst _V2 = new THREE.Vector3(V2.x, V2.y, V2.z);\r\n\r\n\treturn _V1.angleTo(_V2);\r\n}\r\n\r\nfunction radiansToDegree(radians) {\r\n\treturn radians * (180 / Math.PI);\r\n}\r\nfunction degreeToRadians(degree) {\r\n\treturn degree * (Math.PI / 180);\r\n}\r\n\r\nmodule.exports = { distanceTo, getAngle, radiansToDegree, degreeToRadians };\r\n","/* eslint-disable no-unused-vars */\n/* eslint-disable no-var */\nconst THREE = require('three')\nconst Lil = require('three/examples/jsm/libs/lil-gui.module.min')\nconst CameraControls = require('camera-controls/dist/camera-controls.js')\nconst TWEEN = require('@tweenjs/tween.js')\nconst Marker = require('./Marker')\nconst utils = require('./utils')\n\nconst { GUI } = Lil\n// const onRest = function () {\n//     this.cameraControls.removeEventListener('rest', onRest)\n//     this.userDragging = false\n//     this.enabledRotation = true\n// }\n\n// const onControlStart = function () {\n//     this.cameraControls.removeEventListener('rest', onRest)\n//     this.userDragging = true\n//     this.enabledRotation = false\n// }\n\n// const onControlEnd = function () {\n//     if (this.cameraControls.active) {\n//         this.cameraControls.addEventListener('rest', onRest)\n//     } else {\n//         onRest()\n//     }\n// }\n\n// const onTransitionStart = () => {\n//     if (this.userDragging) return\n\n//     this.enabledRotation = false\n\n//     this.cameraControls.addEventListener('rest', onRest)\n// }\n\nconst addInitialData = function () {\n    if (this.data.length === 0) return\n\n    while (this.data.length > 0) {\n        const next = this.data.pop()\n        const {\n            coordinates: { x, y, z },\n            label,\n        } = next\n\n        this.addMarker(x, y, z, label)\n    }\n}\n\nconst createGlobe = function () {\n    if (this.globe) {\n        this.scene.remove(this.globe)\n    }\n\n    const globeGeo = new THREE.IcosahedronBufferGeometry(this.radius, 50, 50)\n    const globeMaterial = new THREE.MeshBasicMaterial()\n    const textureGlobe = new THREE.TextureLoader().load('img/global-dot3.png')\n\n    // textureGlobe.wrapS = THREE.RepeatWrapping\n    // textureGlobe.wrapT = THREE.RepeatWrapping\n    // textureGlobe.repeat.set(80, 80)\n\n    // const alphaGlobe = new THREE.TextureLoader().load('img/earth_1.png')\n\n    globeMaterial.map = textureGlobe\n    // globeMaterial.alphaMap = alphaGlobe\n    globeMaterial.side = THREE.DoubleSide\n    globeMaterial.transparent = true\n    // globeMaterial.wireframe = true\n    globeMaterial.blending = THREE.AdditiveBlending\n\n    this.globe = new THREE.Mesh(globeGeo, globeMaterial)\n\n    this.scene.add(this.globe)\n}\n\nconst createArrowHelper = function () {\n    if (this.arrowHelper) {\n        this.scene.remove(this.arrowHelper)\n    }\n\n    this.arrowHelper = new THREE.ArrowHelper(\n        new THREE.Vector3(),\n        new THREE.Vector3(),\n        25,\n        0xffff00\n    )\n    this.scene.add(this.arrowHelper)\n}\n\nconst raycastGlobe = function () {\n    this.intersect = this.raycaster.intersectObject(this.globe, false)\n    if (this.intersect.length > 0) {\n        const _intersect = this.intersect[0]\n        const n = new THREE.Vector3()\n\n        n.copy(_intersect.face.normal)\n        n.transformDirection(_intersect.object.matrixWorld)\n\n        this.arrowHelper.visible = true\n        this.arrowHelper.setDirection(n)\n        this.arrowHelper.position.copy(_intersect.point)\n    } else {\n        this.arrowHelper.visible = false\n    }\n}\n\nconst raycastMarkers = function () {\n    const meshes = this.markers.reduce((acc, m) => [...acc, m.marker], [])\n\n    this.intersects = this.raycaster.intersectObjects(meshes, false)\n    if (this.intersects.length > 0) {\n        const n = new THREE.Vector3()\n        n.copy(this.intersects[0].face.normal)\n        n.transformDirection(this.intersects[0].object.matrixWorld)\n\n        this.arrowHelper.visible = true\n        this.arrowHelper.setDirection(n)\n        this.arrowHelper.position.copy(this.intersects[0].object.position)\n\n        this.intersectedObject = this.intersects[0].object\n    } else {\n        this.arrowHelper.visible = false\n        this.intersectedObject = null\n    }\n}\n\nconst markerAnimate = function () {\n    if (this.intersects.length > this.markers.length) return\n    this.markers.forEach(({ marker: o }, i) => {\n        if (this.intersectedObject && this.intersectedObject.uuid === o.uuid) {\n            if (!this.markers[i].markerHover) this.markers[i].selected()\n        } else if (this.markers[i].markerHover) {\n            if (this.markers[i].markerHover) this.markers[i].unSelected()\n        }\n    })\n}\n\nconst raycastIntersect = function () {\n    if (!this.raycaster) this.raycaster = new THREE.Raycaster()\n\n    this.raycaster.setFromCamera(this.pointer, this.camera)\n    if (this.mode === 'default') raycastMarkers.call(this)\n    if (this.mode === 'addMarker') raycastGlobe.call(this)\n    this.raycastInit = true\n}\n\nconst setArc3D = function (pointStart, pointEnd, smoothness, color, clockWise) {\n    // calculate a normal ( taken from Geometry().computeFaceNormals() )\n    var cb = new THREE.Vector3()\n    var ab = new THREE.Vector3()\n    var normal = new THREE.Vector3()\n    cb.subVectors(new THREE.Vector3(), pointEnd)\n    ab.subVectors(pointStart, pointEnd)\n    cb.cross(ab)\n    normal.copy(cb).normalize()\n\n    var angle = utils.getAngle(pointStart, pointEnd) // get the angle between vectors\n\n    if (clockWise) angle = angle - Math.PI * 2 // if clockWise is true, then we'll go the longest path\n\n    var angleDelta = angle / (smoothness - 1) // increment\n\n    var geometry = new THREE.BufferGeometry()\n    let points = []\n    const _points = []\n    for (var i = 0; i < smoothness; i++) {\n        const point = new THREE.Vector3(\n            pointStart.x,\n            pointStart.y,\n            pointStart.z\n        ).applyAxisAngle(normal, angleDelta * i)\n        _points.push(point)\n        points = [...points, point.x, point.y, point.z]\n    }\n    const vertices = new Float32Array(points) // 3 vertices per point\n    geometry.setAttribute('position', new THREE.BufferAttribute(vertices, 3))\n    const mesh = new THREE.Line(\n        geometry,\n        new THREE.LineBasicMaterial({\n            color: color,\n        })\n    )\n    return {\n        mesh,\n        points,\n        _points,\n        angle,\n    }\n}\n\nconst createPath = function (target) {\n    const { x: tx, y: ty, z: tz } = target\n    const { x: cx, y: cy, z: cz } = this.camera.position\n\n    var altitude = this.getCameraAltitude()\n    const coeff = altitude / this.radius\n    const arc = setArc3D(\n        new THREE.Vector3(cx, cy, cz),\n        new THREE.Vector3(tx * coeff, ty * coeff, tz * coeff),\n        150,\n        'lime',\n        false\n    )\n\n    // this.scene.add(arc.mesh)\n\n    return { points: arc._points, angle: (arc.angle * 180) / Math.PI }\n}\n\nconst zoomIn = function (callback) {\n    var altitude = this.getCameraAltitude()\n    const dolly = { progress: altitude }\n    new TWEEN.Tween(dolly)\n        .to({ progress: this.minZoom }, 250)\n        .onUpdate(() => {\n            this.cameraControls.dollyTo(dolly.progress, false)\n        })\n        .onComplete(() => callback())\n        .start()\n}\n\nconst zoomOut = function (duration, callback) {\n    var altitude = this.getCameraAltitude()\n    const dolly = { progress: altitude }\n\n    new TWEEN.Tween(dolly)\n        .to({ progress: this.maxZoom }, duration)\n        .onUpdate(() => {\n            this.cameraControls.dollyTo(dolly.progress, false)\n        })\n        .onComplete(() => callback())\n        .start()\n}\n\nconst followPath = function (points, duration, callback) {\n    const position = { progress: 0 }\n    new TWEEN.Tween(position)\n        .to({ progress: points.length - 1 }, duration)\n        // .delay (1000)\n        // .easing(TWEEN.Easing.Cubic.Out)\n        .onUpdate(() => {\n            const _temp = Math.floor(position.progress)\n            const point = points[_temp]\n            const cameraX = point.x\n            const cameraY = point.y\n            const cameraZ = point.z\n            this.cameraControls.setLookAt(\n                cameraX,\n                cameraY,\n                cameraZ,\n                0,\n                0,\n                0,\n                false\n            )\n        })\n        .onComplete(() => {\n            callback()\n        })\n        .start()\n}\n\nconst checkCameraAltitude = function () {\n    const altitude = Math.floor(this.getCameraAltitude())\n\n    if (altitude === this.minZoom) {\n        this.enabledMarkersHtml = false\n    } else {\n        this.enabledMarkersHtml = true\n    }\n}\n\n// const setEnabledMarkersHtml = function () {\n//     if (this.prevEnabledMarkersHtml !== this.enabledMarkersHtml) {\n//         this.prevEnabledMarkersHtml = this.enabledMarkersHtml\n\n//         this.markers.forEach((m, i) => {\n//             m.setEnabledHtml(this.enabledMarkersHtml)\n//             if (!this.enabledMarkersHtml) {\n//                 m.clearHtml()\n//             }\n//         })\n//     }\n// }\n\nfunction Globe(width, height, opts = {}) {\n    CameraControls.install({ THREE: THREE })\n\n    this.active = false\n    this.width = width\n    this.height = height\n    this.markers = []\n    this.activeTransition = false\n    this.pointer = new THREE.Vector2(-100, 100)\n    this.prevMarkerSelected = null\n    this.enabledMarkersHtml = true\n    this.cameraUpdated = false\n    this.enabledRotation = true\n    this.userDragging = false\n    // Raycast\n    this.intersectedObject = null\n    this.intersects = []\n    this.intersect = []\n    this.raycastInit = false\n\n    const defaults = {\n        minZoom: 325,\n        maxZoom: 425,\n        radius: 200,\n        data: [],\n        mode: 'default',\n        htmlContainer: null,\n        ...opts,\n    }\n\n    for (var i in defaults) {\n        if (!this[i]) {\n            this[i] = defaults[i]\n        }\n    }\n\n    this.renderer = new THREE.WebGL1Renderer({ antialias: true })\n\n    // this.renderer.setClearColorHex(0xffffff, 1)\n    this.renderer.setPixelRatio(window.devicePixelRatio)\n    this.renderer.setSize(this.width, this.height)\n    this.renderer.sortObjects = false\n\n    this.domElement = this.renderer.domElement\n}\n\nGlobe.prototype.init = function (cb) {\n    this.scene = new THREE.Scene()\n    this.scene.background = new THREE.Color(0x070f21)\n    // this.ambientLight = new THREE.AmbientLight()\n\n    this.scene.add(this.ambientLight)\n\n    // this.scene.fog = new THREE.Fog(0x535ef3, 400, 2000)\n\n    this.camera = new THREE.PerspectiveCamera()\n    this.camera.aspect = this.width / this.height\n    this.camera.updateProjectionMatrix()\n    this.camera.position.z = this.maxZoom\n\n    this.scene.add(this.camera)\n\n    this.cameraControls = new CameraControls(this.camera, this.domElement)\n    this.cameraControls.minDistance = this.minZoom\n    this.cameraControls.maxDistance = this.maxZoom\n    this.cameraControls.mouseButtons.right = CameraControls.ACTION.NONE\n    this.cameraControls.draggingDampingFactor = 0.45\n    this.cameraControls.azimuthRotateSpeed = 0.2\n    this.cameraControls.polarRotateSpeed = 0.2\n\n    // this.cameraControls.draggingDampingFactor = 1\n\n    createGlobe.call(this)\n    createArrowHelper.call(this)\n\n    // this.initListeners()\n}\n\nGlobe.prototype.initGui = function () {\n    // const gui = new GUI()\n    // const ambientLightFolder = gui.addFolder('THREE.AmbientLight')\n    // ambientLightFolder.open()\n}\n\nGlobe.prototype.destroy = function (cb) {\n    var _this = this\n    this.active = false\n\n    setTimeout(function () {\n        while (_this.scene.children.length > 0) {\n            _this.scene.remove(_this.scene.children[`0`])\n        }\n        if (typeof callback === 'function') {\n            cb()\n        }\n    }, 1000)\n}\n\nGlobe.prototype.addMarker = function (posX, posY, posZ, label) {\n    const marker = new Marker(\n        posX,\n        posY,\n        posZ,\n        label,\n        this.globe,\n        this.camera,\n        this.domElement,\n        // this.htmlContainer,\n        {}\n    )\n    this.markers.push(marker)\n\n    return marker\n}\n\nGlobe.prototype.moveCameraToMarker = function (point, cb) {\n    const distance = utils.distanceTo(this.camera.position, point)\n    const range = this.minZoom - this.radius\n    if (\n        JSON.stringify(point) === JSON.stringify(this.prevMarkerSelected) &&\n        distance < range\n    ) {\n        return\n    }\n\n    if (!this.activeTransition) {\n        this.cameraControls.enabled = false\n        this.activeTransition = true\n        this.enabledRotation = false\n\n        const altitude = this.getCameraAltitude()\n        const diff = this.maxZoom - this.minZoom * 0.4\n\n        TWEEN.removeAll()\n        this.prevMarkerSelected = point\n        if (altitude !== this.maxZoom && distance > diff) {\n            zoomOut.call(this, distance, () => {\n                const path = createPath.call(this, point)\n                followPath.call(this, path.points, distance, () => {\n                    zoomIn.call(this, () => {\n                        this.cameraControls.enabled = true\n                        this.activeTransition = false\n                        if (typeof cb === 'function') cb()\n                    })\n                })\n            })\n        } else {\n            const path = createPath.call(this, point)\n\n            followPath.call(this, path.points, distance, () => {\n                zoomIn.call(this, () => {\n                    this.cameraControls.enabled = true\n                    this.activeTransition = false\n                    if (typeof cb === 'function') cb()\n                })\n            })\n        }\n    }\n}\n\n// Calculate distance from camera to point is greater than a diff\nGlobe.prototype.distanceFromCameraToPointRange = function (point, range) {\n    const distance = utils.distanceTo(this.camera.position, point)\n    const diff = (this.maxZoom - this.minZoom) * range\n\n    return distance > diff\n}\n\nGlobe.prototype.cameraToOriginalOrbit = function () {\n    if (!this.activeTransition) {\n        const altitude = this.getCameraAltitude()\n        if (altitude === this.maxZoom) return\n\n        this.cameraControls.enabled = false\n        this.activeTransition = true\n        this.enabledRotation = false\n\n        TWEEN.removeAll()\n\n        zoomOut.call(this, 400, () => {\n            this.cameraControls.enabled = true\n            this.activeTransition = false\n            this.enabledRotation = true\n        })\n    }\n}\n\nGlobe.prototype.hasIntersected = function () {\n    return this.intersects.length > 0\n}\n\nGlobe.prototype.getCameraAltitude = function () {\n    return utils.distanceTo(this.camera.position, new THREE.Vector3(0, 0, 0))\n}\n\nGlobe.prototype.stopTweenAnimation = function () {\n    TWEEN.removeAll()\n}\n\nGlobe.prototype.getMarkerByUUID = function (uuid) {\n    const marker = this.markers.find(({ marker: m }) => {\n        return m.uuid === uuid\n    })\n    return marker\n}\n\nGlobe.prototype.getMarkerByLabel = function (label) {\n    const marker = this.markers.find(({ label: l }) => {\n        return l === label\n    })\n    return marker\n}\n\nGlobe.prototype.getSelectedMaker = function () {\n    if (this.intersects.length === 0) return -1\n    const markerMesh = this.intersects[0]\n    return this.getMarkerByUUID(markerMesh.object.uuid)\n}\n\nGlobe.prototype.tick = function (delta) {\n    if (!this.camera) {\n        return\n    }\n\n    if (!this.firstRunTime) {\n        this.firstRunTime = Date.now()\n    }\n\n    // this.markers.forEach((m) => {\n    // \tm.updateElementPosition();\n    // });\n\n    if (this.cameraUpdated) {\n        this.cameraUpdated = false\n        checkCameraAltitude.call(this)\n    }\n    // setEnabledMarkersHtml.call(this)\n\n    addInitialData.call(this)\n\n    raycastIntersect.call(this)\n    if (this.raycastInit) markerAnimate.call(this)\n\n    if (!this.hasIntersected() && this.enabledRotation) {\n        this.cameraControls.azimuthAngle -= 10 * delta * THREE.MathUtils.DEG2RAD\n    }\n\n    this.cameraControls.update(delta)\n    TWEEN.update()\n\n    this.renderer.render(this.scene, this.camera)\n}\n\nexport default Globe\n","/* eslint-disable no-loss-of-precision */\nimport React, { Component } from 'react'\nimport Globe from '../../Globe/Globe'\nimport * as THREE from 'three'\nimport { AnimatePresence, motion } from 'framer-motion'\n\nclass GlobeComponent extends Component {\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            data: this.props.data ? [...this.props.data] : [],\n            marker: null,\n            markers: this.props.data.reduce(\n                (acc, { label, image }) => ({\n                    ...acc,\n                    [label]: {\n                        label,\n                        image,\n                    },\n                }),\n                {}\n            ),\n            enableClick: true,\n            scrollPosition: 0,\n        }\n\n        this.canvasRef = React.createRef()\n        this.htmlRef = React.createRef()\n    }\n\n    componentDidMount = () => {\n        const { width, height, mode = 'default', disabledRotation } = this.props\n        this.clock = new THREE.Clock()\n        this.pointer = new THREE.Vector2()\n\n        this.globe = new Globe(width, height, {\n            data: this.state.data,\n            mode,\n            // enabledRotation: false,\n        })\n\n        this.canvasRef.current.appendChild(this.globe.domElement)\n        this.globe.init()\n        this.globe.initGui()\n        if (disabledRotation) this.globe.enabledRotation = false\n        this.initListeners()\n        this.initCameraControlsListeners()\n        this.start()\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        if (\n            prevProps.width !== this.props.width ||\n            prevProps.height !== this.props.height\n        ) {\n            this.updateSize()\n        }\n    }\n\n    componentWillUnmount = () => {\n        this.stop()\n        this.removeListeners()\n        this.removeCameraControlsListeners()\n        this.globe.destroy()\n    }\n\n    initListeners = () => {\n        window.addEventListener('scroll', this.listenToScroll)\n        this.canvasRef.current.addEventListener(\n            'mousemove',\n            this.onMouseMove,\n            false\n        )\n        this.canvasRef.current.addEventListener(\n            'click',\n            this.onMouseClick,\n            false\n        )\n    }\n\n    removeListeners = () => {\n        window.removeEventListener('scroll', this.listenToScroll)\n        this.canvasRef.current.removeEventListener(\n            'mousemove',\n            this.onMouseMove\n        )\n        this.canvasRef.current.removeEventListener('click', this.onMouseClick)\n    }\n\n    listenToScroll = () => {\n        this.setState({\n            scrollPosition: scrollY,\n        })\n    }\n\n    addMarker = () => {\n        const intersect = this.globe.intersect[0]\n\n        const coeff = (this.globe.radius + 4) / this.globe.radius\n\n        const point = {\n            x: intersect.point.x * coeff,\n            y: intersect.point.y * coeff,\n            z: intersect.point.z * coeff,\n        }\n\n        this.setState({\n            data: [\n                ...this.state.data,\n                {\n                    coordinates: {\n                        x: point.x,\n                        y: point.y,\n                        z: point.z,\n                    },\n                },\n            ],\n        })\n\n        if (typeof this.props.onAddMarker === 'function') {\n            this.props.onAddMarker({\n                coordinates: {\n                    x: point.x,\n                    y: point.y,\n                    z: point.z,\n                },\n            })\n        }\n\n        this.globe.addMarker(point.x, point.y, point.z, 'Hi')\n    }\n\n    handleOnClickMarker = () => {\n        const marker = this.globe.getSelectedMaker()\n        if (marker === -1) return\n        this.goToMarkerSelected(marker.label)\n        this.props.onClickMarker(marker.label)\n    }\n\n    goToMarkerSelected = (marker) => {\n        const _marker =\n            typeof marker !== 'string'\n                ? marker\n                : this.globe.getMarkerByLabel(marker)\n        if (_marker === -1) return\n        this.globe.stopTweenAnimation()\n        // const data = marker.getData()\n        const point = new THREE.Vector3(\n            _marker.posX,\n            _marker.posY,\n            _marker.posZ\n        )\n        this.globe.moveCameraToMarker(point)\n    }\n\n    moveCameraToOriginalOrbit = () => {\n        this.globe.prevMarkerSelected = null\n        this.globe.cameraToOriginalOrbit()\n    }\n\n    updateSize = () => {\n        const { width, height } = this.props\n        this.globe.width = width\n        this.globe.height = height\n        this.globe.camera.aspect = width / height\n        this.globe.camera.updateProjectionMatrix()\n\n        this.globe.renderer.setSize(width, height)\n    }\n\n    onMouseMove = (e) => {\n        const topOffset =\n            this.globe.domElement.getBoundingClientRect().top +\n            document.documentElement.scrollTop\n\n        this.globe.pointer.x =\n            (e.pageX / this.globe.domElement.clientWidth) * 2 - 1\n        this.globe.pointer.y =\n            -((e.pageY - topOffset) / this.globe.domElement.clientHeight) * 2 +\n            1\n\n        // console.log(this.globe.pointer.x, this.globe.pointer.y)\n    }\n\n    onMouseClick = (e) => {\n        if (!this.state.enableClick) return\n\n        this.setState({ enableClick: false })\n        if (\n            this.globe.intersect.length > 0 &&\n            this.globe.mode === 'addMarker'\n        ) {\n            this.addMarker()\n        }\n        if (this.globe.intersects.length > 0) {\n            this.handleOnClickMarker()\n        }\n\n        setTimeout(() => {\n            this.setState({ enableClick: true })\n        }, 1000)\n    }\n\n    onReset = () => {\n        this.globe.cameraControls.removeEventListener('rest', this.onReset)\n        this.globe.userDragging = false\n        if (!this.props.disabledRotation) this.globe.enabledRotation = true\n    }\n\n    onControlStart = () => {\n        this.globe.cameraControls.removeEventListener('rest', this.onReset)\n        this.globe.userDragging = true\n        if (!this.props.disabledRotation) this.globe.enabledRotation = false\n    }\n\n    onControlEnd = () => {\n        if (this.globe.hasIntersected()) return\n        if (\n            this.globe.cameraControls.active &&\n            this.globe.cameraControls.enabled\n        ) {\n            this.globe.cameraControls.addEventListener('rest', this.onReset)\n        } else {\n            this.onReset()\n        }\n    }\n\n    onTransitionStart = () => {\n        if (this.globe.userDragging && !this.globe.cameraControls.enabled)\n            return\n\n        if (!this.props.disabledRotation) this.enabledRotation = false\n        this.globe.cameraControls.addEventListener('reset', this.onReset)\n    }\n\n    initCameraControlsListeners = () => {\n        this.globe.cameraControls.addEventListener(\n            'controlstart',\n            this.onControlStart\n        )\n        this.globe.cameraControls.addEventListener(\n            'controlend',\n            this.onControlEnd\n        )\n        this.globe.cameraControls.addEventListener(\n            'transitionstart',\n            this.onTransitionStart\n        )\n    }\n\n    removeCameraControlsListeners = () => {\n        this.globe.cameraControls.removeEventListener(\n            'controlstart',\n            this.onControlStart\n        )\n        this.globe.cameraControls.removeEventListener(\n            'controlend',\n            this.onControlEnd\n        )\n        this.globe.cameraControls.removeEventListener(\n            'transitionstart',\n            this.onTransitionStart\n        )\n    }\n\n    checkMarkerHover = () => {\n        const marker = this.globe.markers.reduce((acc, m) => {\n            if (acc) return acc\n            if (m.markerHover) return m\n            return acc\n        }, null)\n\n        if (marker) {\n            const position = marker.getMakerPositionOnCanvas()\n            if (\n                JSON.stringify(position) !==\n                JSON.stringify(this.state.marker?.position)\n            ) {\n                this.setState({\n                    marker: { label: marker.label, position: position },\n                })\n            }\n        } else if (this.state.marker) {\n            this.setState({ marker: null })\n        }\n    }\n\n    animate = () => {\n        const delta = this.clock.getDelta()\n        if (this.globe) {\n            this.checkMarkerHover()\n            this.globe.tick(delta, this.pointer)\n        }\n        this.frameId = window.requestAnimationFrame(this.animate)\n    }\n\n    start = () => {\n        if (!this.frameId) {\n            this.frameId = requestAnimationFrame(this.animate)\n        }\n    }\n\n    stop = () => {\n        cancelAnimationFrame(this.frameId)\n    }\n\n    render() {\n        const { width, height } = this.props\n        const { marker, markers, scrollPosition } = this.state\n\n        return (\n            <div className=\"relative inline-block\" style={{ width, height }}>\n                <div ref={this.canvasRef} className=\"w-full h-full\"></div>\n                <div className=\"absolute top-0\">\n                    <AnimatePresence>\n                        {marker && (\n                            <motion.div\n                                className=\"w-32 cursor-pointer select-none\"\n                                onClick={() => {\n                                    this.handleOnClickMarker()\n                                }}\n                                // onWheel={(e) => e.preventDefault()}\n                                style={{\n                                    transform: `translate(-50%, -0%) translate(${\n                                        marker.position.x\n                                    }px,${\n                                        marker.position.y - scrollPosition\n                                    }px)`,\n                                }}\n                                initial={{\n                                    transform: 'translate(-50%, -0%)',\n                                    // 128 is the width of div elemnent\n                                    x: marker.position.x - 128 / 2,\n                                    y: marker.position.y,\n                                    scale: 0.4,\n                                }}\n                                animate={{ scale: 1 }}\n                                exit={{ scale: 0.4 }}\n                                transition={{\n                                    delay: 0.01,\n                                }}\n                            >\n                                <div className=\"h-32 w-32 rounded-full bg-primary p-3\">\n                                    <div className=\"w-full h-full bg-info rounded-full overflow-hidden\">\n                                        <img\n                                            className=\"object-cover w-full h-full\"\n                                            src={markers[marker.label].image}\n                                            alt={markers[marker.label].image}\n                                        />\n                                    </div>\n                                </div>\n                                <div className=\"relative w-full px-2  -top-5 text-white text-center\">\n                                    <div className=\"bg-blue-1 w-full\">\n                                        {marker.label}\n                                    </div>\n                                </div>\n                            </motion.div>\n                        )}\n                    </AnimatePresence>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default GlobeComponent\n","export default __webpack_public_path__ + \"static/media/blue.48080376.png\";","export default __webpack_public_path__ + \"static/media/green.b26fdacc.png\";","export default __webpack_public_path__ + \"static/media/yellow.ac7568c7.png\";","export default __webpack_public_path__ + \"static/media/orange.ee43c690.png\";","export default __webpack_public_path__ + \"static/media/purple.f3018cac.png\";","export default __webpack_public_path__ + \"static/media/red.821cc849.png\";","export default __webpack_public_path__ + \"static/media/Austin-01.53643e86.png\";","export default __webpack_public_path__ + \"static/media/Elko-01.0ed84e6d.png\";","export default __webpack_public_path__ + \"static/media/Los_Angeles-01.05bb238a.png\";","export default __webpack_public_path__ + \"static/media/Miami-01.eaadced1.png\";","export default __webpack_public_path__ + \"static/media/Drottningholmv-01.b088e2c3.png\";","export default __webpack_public_path__ + \"static/media/pruebaMapa.1201442e.png\";","export default __webpack_public_path__ + \"static/media/cristo-redentor-corcovado-rio-de-janeiro.7b25cfa3.jpg\";","export default __webpack_public_path__ + \"static/media/Humacaco.218a996f.png\";","export default __webpack_public_path__ + \"static/media/puertoRico.740ede33.png\";","export default __webpack_public_path__ + \"static/media/land-test1.dfd5d67a.png\";","export default __webpack_public_path__ + \"static/media/Fonds-Saint-Denis.4593b034.png\";","export default __webpack_public_path__ + \"static/media/houston.67d69ff4.png\";","export default __webpack_public_path__ + \"static/media/Martiniquez.a0e582fd.png\";","export default __webpack_public_path__ + \"static/media/Mayaguez.17e69c15.png\";","export default __webpack_public_path__ + \"static/media/houston.b84de4ca.jpg\";","export default __webpack_public_path__ + \"static/media/paris.5ff78835.jpg\";","export default __webpack_public_path__ + \"static/media/france.4f2d44db.jpg\";","export default __webpack_public_path__ + \"static/media/chicago.df7f8741.jpg\";","export default __webpack_public_path__ + \"static/media/usa.40301fed.jpg\";","export default __webpack_public_path__ + \"static/media/01-paris.74fcc25d.jpg\";","export default __webpack_public_path__ + \"static/media/01-FRANCE.650f2ccb.jpg\";","export default __webpack_public_path__ + \"static/media/01-Gold.4b239429.jpg\";","export default __webpack_public_path__ + \"static/media/silver.49d0e538.jpg\";","export default __webpack_public_path__ + \"static/media/01-USA.b42da080.jpg\";","export default __webpack_public_path__ + \"static/media/01-chicago.2c2c47d6.jpg\";","export default __webpack_public_path__ + \"static/media/houston.42a3f062.png\";","export default __webpack_public_path__ + \"static/media/dubai.8eda4b1b.png\";","export default __webpack_public_path__ + \"static/media/douglas.68cb9be8.png\";","export default __webpack_public_path__ + \"static/media/london.8fded327.png\";","export default __webpack_public_path__ + \"static/media/madrid.166d3417.png\";","export default __webpack_public_path__ + \"static/media/tarjeta.2d17be27.png\";","export default __webpack_public_path__ + \"static/media/nft-personaje.770b818f.png\";","export default __webpack_public_path__ + \"static/media/255.15cfa7ed.png\";","export default __webpack_public_path__ + \"static/media/466.d7ac51c5.png\";","export default __webpack_public_path__ + \"static/media/457.db9e96a9.png\";","export default __webpack_public_path__ + \"static/media/841.225c4c94.png\";","export default __webpack_public_path__ + \"static/media/847.6332d1e2.png\";","export default __webpack_public_path__ + \"static/media/robot.ace2b60a.png\";","export default __webpack_public_path__ + \"static/media/1075.cf38d68f.png\";","export default __webpack_public_path__ + \"static/media/1111.2f9ac3b8.jpeg\";","export default __webpack_public_path__ + \"static/media/1112.e7aa9e29.jpeg\";","export default __webpack_public_path__ + \"static/media/isla.9497e00a.png\";","export default __webpack_public_path__ + \"static/media/piedras-fondo.c96af1f1.gif\";","export default __webpack_public_path__ + \"static/media/earth-loading.7d64cc99.gif\";","import card from './tarjeta.png'\nimport nft from './nfts/nft-personaje.png'\nimport nft1 from './nfts/255.png'\nimport nft2 from './nfts/466.png'\nimport nft3 from './nfts/457.png'\nimport nft4 from './nfts/841.png'\nimport nft5 from './nfts/847.png'\nimport nft6 from './nfts/robot.png'\nimport nft7 from './nfts/1075.png'\nimport nft8 from './nfts/1111.jpeg'\nimport nft9 from './nfts/1112.jpeg'\nimport isla from './isla.png'\nimport island from './piedras-fondo.gif'\nimport eLoading from './earth-loading.gif'\nimport wttCoin from './wtt-coin.png'\n\nconst utilitiesImages = {\n    card,\n    nft,\n    nft1,\n    nft2,\n    nft3,\n    nft4,\n    nft5,\n    nft6,\n    nft7,\n    nft8,\n    nft9,\n    isla,\n    wttCoin,\n    island,\n    eLoading,\n}\n\nexport default utilitiesImages\n","export default __webpack_public_path__ + \"static/media/wtt-coin.995ea548.png\";","/* eslint-disable no-unused-vars */\n/* eslint-disable no-loss-of-precision */\nimport React, { useRef, useState, useEffect } from 'react'\nimport GlobeComponent from './../components/GlobeComponent/index'\n// import useResponsive from './../hooks/useResponsive'\nimport useEventListener from './../hooks/useEventListener'\nimport useEffectOnce from './../hooks/useEffectOnce'\nimport { AutoComplete, Input, Select, Button, Row, Col } from 'antd'\nimport { SearchOutlined } from '@ant-design/icons'\n\nimport { filterSearch } from './../services/filters'\nimport { FrameTopSVG, FrameBottomSVG } from '../assets/svg/frames'\nimport { AnimatePresence, motion } from 'framer-motion'\nimport CardNftMarket from '../components/Cards/CardNftMarket'\n// import { FrameBottomSVG } from './../assets/svg/frames/index'\nimport { landColors } from './../assets/images/lands/colors/index'\nimport { landsImages } from './../assets/images/lands/'\nimport places from './../assets/images/places'\nimport nfts from '../assets/images/nfts'\nimport Tabs, { TabPane } from '../components/Tabs/Tabs'\n// import { lands, roles } from './../constants/nftsDummy'\nimport {\n    useFetchCountries,\n    useFetchPlaces,\n    usePlaceReducer,\n} from './../store/reducers/places/hooks'\nimport { useFetchNftLands } from '../store/reducers/nfts/hooks'\nimport utilitiesImages from './../assets/images/utilities/index'\n\nconst MarketView = () => {\n    const globeContainerRef = useRef(null)\n    const globeRef = useRef(null)\n    const searchButtonRef = useRef(null)\n    const [globeSizes, setGlobalSizes] = useState({ width: 0, height: 0 })\n\n    useEffectOnce(() => {\n        setGlobalSizes({\n            width: globeContainerRef.current.clientWidth,\n            height: globeContainerRef.current.clientHeight,\n        })\n    })\n\n    useEventListener('resize', () => {\n        setGlobalSizes({\n            width: globeContainerRef.current.clientWidth,\n            height: globeContainerRef.current.clientHeight,\n        })\n    })\n\n    const nfts = useFetchNftLands()\n    const { countries, countriesArray, places } = useFetchCountries()\n    const {\n        fetch: { requestCountries },\n    } = usePlaceReducer()\n    const [markers, setMarkers] = useState([])\n    const [lands, setLands] = useState([])\n    const [marker, setMarker] = useState()\n    const [searchText, setSearchText] = useState()\n    const [selectedText, setSelected] = useState()\n\n    useEffect(() => {\n        const _markers = countriesArray.reduce(\n            (acc, { name, xyz, image }) => [\n                ...acc,\n                {\n                    coordinates: {\n                        x: xyz[0],\n                        y: xyz[1],\n                        z: xyz[2],\n                    },\n                    label: name,\n                    image,\n                },\n            ],\n            []\n        )\n        setMarkers(_markers)\n    }, [countriesArray])\n\n    useEffect(() => {\n        if (requestCountries) {\n            const l = nfts.reduce((acc, n) => {\n                const place = n.attributes[0].value\n\n                return [\n                    ...acc,\n                    {\n                        id: place,\n                        title: place,\n                        nft: n.image,\n                        country: places[place]?.country,\n                    },\n                ]\n            }, [])\n            setLands(l)\n        }\n    }, [requestCountries])\n\n    const handleOnChangeSelect = (val) => {\n        const marker = markers.filter((m) => m.label === val)[0]\n        setSelected(marker.label)\n        setSearchText(marker.label)\n        globeRef.current.goToMarkerSelected(marker.label)\n    }\n\n    const handleOnChangeSelectAuto = (val) => {\n        const marker = markers.filter((m) => m.label === val)[0]\n        setSelected(marker.label)\n        setSearchText(marker.label)\n    }\n\n    const handleOnClickMarker = (label) => {\n        setSelected(label)\n        setSearchText(label)\n    }\n\n    const handleOnSearch = (value) => {\n        setSearchText(value)\n    }\n\n    const onKeyDown = (e) => {\n        if (e.code === 'Enter' && selectedText) {\n            searchButtonRef.current.focus()\n        }\n    }\n\n    const onClick = () => {\n        if (selectedText) globeRef.current.goToMarkerSelected(selectedText)\n        else if (searchText === '') {\n            setSelected(undefined)\n            globeRef.current.moveCameraToOriginalOrbit()\n        }\n    }\n\n    const onClear = () => {\n        setSelected(undefined)\n        globeRef.current.moveCameraToOriginalOrbit()\n    }\n\n    const filter = selectedText\n        ? lands.filter((l) => l.country === selectedText)\n        : lands\n\n    // const filterRoles = selectedText\n    //     ? roles.filter((l) => l.country === selectedText)\n    //     : roles\n\n    const options = markers.reduce(\n        (acc, m, key) => [...acc, { label: m.label, value: m.label }],\n        []\n    )\n    const optionsFilter = filterSearch(searchText, options)\n\n    return (\n        <div className=\"w-full bg-blue-4 relative\">\n            <div\n                ref={globeContainerRef}\n                className=\"w-full m-auto relative overflow-hidden\"\n                style={{ height: '650px' }}\n            >\n                {requestCountries && markers.length > 0 ? (\n                    <GlobeComponent\n                        ref={globeRef}\n                        data={markers}\n                        width={window.innerWidth}\n                        height={650}\n                        // disabledRotation\n                        // mode={'addMarker'}\n                        // onAddMarker={(marker) => {\n                        //     console.log({ marker })\n                        //     setMarkers([...markers, { ...marker, label: '' }])\n                        // }}\n                        onClickMarker={handleOnClickMarker}\n                    />\n                ) : (\n                    <div\n                        className=\"w-full h-full \"\n                        style={{ backgroundColor: '#070f21' }}\n                    >\n                        <img\n                            className=\"w-auto h-full mx-auto\"\n                            src={utilitiesImages.eLoading}\n                            alt={utilitiesImages.eLoading}\n                        />\n                    </div>\n                )}\n                <div className=\"absolute bottom-0 w-full mb-5\">\n                    <div\n                        className=\"relative flex justify-center items-center m-auto w-10/12 md:w-8/12 lg:w-6/12 2xl:w-4/12\"\n                        // style={{ maxWidth: '750px' }}\n                    >\n                        <Input.Group>\n                            <Row className=\"border border-aqua-3 rounded-lg bg-blue-2\">\n                                <Col\n                                    xs={4}\n                                    className=\"bg-blue-3 border border-aqua-3 rounded-l-lg \"\n                                >\n                                    <Select\n                                        className=\"w-full ant-selector-border-0 ant-selector-custom bg-blue-3 text-blue-9\"\n                                        size=\"large\"\n                                        value={selectedText}\n                                        onChange={handleOnChangeSelect}\n                                    >\n                                        {options.map((d) => (\n                                            <Select.Option\n                                                key={d.label}\n                                                value={d.value}\n                                            >\n                                                {d.label}\n                                            </Select.Option>\n                                        ))}\n                                    </Select>\n                                </Col>\n                                <Col xs={16} className=\"border-r border-aqua-3\">\n                                    <AutoComplete\n                                        options={optionsFilter}\n                                        className=\"auto-complete-custom absolute h-full ant-select-h-full\"\n                                        dropdownClassName=\"\"\n                                        onSearch={handleOnSearch}\n                                        onSelect={handleOnChangeSelectAuto}\n                                        style={{ width: '100%' }}\n                                        onKeyDown={onKeyDown}\n                                        // onKeyUp={onKeyUpAuto}\n                                        value={searchText}\n                                        onClear={onClear}\n                                        allowClear\n                                    >\n                                        <input\n                                            // className=\"w-6/12\"\n                                            className=\"h-full w-full bg-transparent border-0 text-blue-9 pl-5 focus:border-none rounded-none \"\n                                            size=\"large\"\n                                        />\n                                    </AutoComplete>\n                                </Col>\n                                <Col xs={4}>\n                                    <button\n                                        ref={searchButtonRef}\n                                        className=\"h-full w-full rounded-r-full bg-transparent border-0 text-blue-9\"\n                                        size=\"large\"\n                                        // onKeyDown={onKeyDown}\n                                        onClick={onClick}\n                                        // onKeyUp={onKeyUp}\n                                    >\n                                        <SearchOutlined />\n                                    </button>\n                                </Col>\n                            </Row>\n                        </Input.Group>\n                    </div>\n                </div>\n            </div>\n            <div className=\"\">\n                {/* <div className=\" max-w-1800px mx-auto\"></div> */}\n                <Tabs\n                    tabContainerClassName=\"max-w-1280px mx-auto px-6 2xl:px-16\"\n                    panelContainerClassName=\"py-16 bg-blue-4 \"\n                >\n                    <TabPane\n                        tab=\"Destinations\"\n                        className=\"max-w-1280px px-6 2xl:px-16\"\n                    >\n                        <div className=\"grid grid-cols-2 md:grid-cols-3 xl:grid-cols-5 gap-4\">\n                            {filter.map((f, index) => {\n                                return (\n                                    <div key={`${f.country}-${f.title}`}>\n                                        <CardNftMarket\n                                            id={f.id}\n                                            nft={f.nft}\n                                            title={f.title}\n                                        />\n                                    </div>\n                                )\n                            })}\n                        </div>\n                    </TabPane>\n                </Tabs>\n            </div>\n        </div>\n    )\n}\n\nexport default MarketView\n","import { useEffect } from 'react'\r\n\r\nexport default function useEffectOnce(cb) {\r\n    useEffect(cb, [])\r\n}\r\n","export const filterSearch = (search, options) => {\r\n    if (!search) return options\r\n\r\n    const value = search.toUpperCase()\r\n    const _options = options.reduce((acc, o) => {\r\n        console.log({ o })\r\n        if (o.label.toUpperCase().indexOf(value) > -1) {\r\n            return [...acc, o]\r\n        } else {\r\n            return acc\r\n        }\r\n    }, [])\r\n    return _options\r\n}\r\n"],"sourceRoot":""}