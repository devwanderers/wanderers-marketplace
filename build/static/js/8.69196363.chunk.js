(this.webpackJsonplandingpage=this.webpackJsonplandingpage||[]).push([[8],{624:function(e,t,c){"use strict";c.r(t);var n=c(115),a=c(41),l=c(1),r=c(268),i=c(1460),s=c(1469),o=c(1414),u=c(1604),d=c(10),f=function(e){var t=e.image,c=e.nftsLength,n=e.loading,a=null;return!n&&t&&(a=Object(d.jsx)("img",{src:t,alt:t,className:"w-full h-full object-fill"})),n||0!==c||(a=Object(d.jsxs)("div",{className:" text-white h-full w-full flex flex-col justify-center items-center",children:[Object(d.jsx)(u.a,{size:"50%"}),Object(d.jsx)("p",{className:"text-center text-white px-10",children:"Remember!! in order to receive rewards you have to hold at least one nomad"})]})),Object(d.jsxs)("div",{className:"relative",children:[Object(d.jsx)("div",{className:"absolute left-0 right-0 -top-0 bottom-0 ",children:Object(d.jsx)("div",{className:"w-full h-full",children:Object(d.jsx)(o.a,{width:"100%",height:"100%"})})}),n&&Object(d.jsx)("div",{className:"absolute left-0 right-0 h-full w-full flex items-center justify-center",children:Object(d.jsx)(r.e,{className:"animate-spin text-3xl text-primary"})}),Object(d.jsx)("div",{className:"h-80 lg:h-56 xl:h-72 2xl:h-20rem w-full overflow-hidden",style:{padding:"5.5%"},children:a})]})},j=c(13),b=function(e,t){return Object(d.jsxs)("svg",Object(j.a)(Object(j.a)({"data-name":"Capa 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 190.38 54.24",ref:t},e),{},{children:[Object(d.jsx)("g",{style:{opacity:.18},children:Object(d.jsx)("path",{style:{fill:"#09adc2"},d:"M4.92 1.97h180.53v50.3H4.92z"})}),Object(d.jsx)("path",{style:{fill:"#09adc2"},d:"M185.46 0h2.3v54.24h-2.3zM2.63 0h2.3v54.24h-2.3zM0 0h1.31v54.24H0zM189.07 0h1.31v54.24h-1.31z"})]}))},x=Object(l.forwardRef)(b),h=c(380),O=c(383),v=c(1616),m=function(e){var t=e.className,c=e.nftId,n=e.nftDNA;return Object(d.jsxs)("div",{className:Object(h.a)("relative ".concat(t)),children:[Object(d.jsx)("div",{className:"absolute top-0 left-0 w-full h-full flex items-center",children:Object(d.jsxs)("div",{className:"px-5",children:[Object(d.jsxs)("p",{className:"text-light-0 text-xl gap-2",children:[Object(d.jsx)("strong",{children:"ID:"})," ",c]}),Object(d.jsx)("p",{className:"text-light-0 text-xl gap-2",children:Object(d.jsxs)(v.a,{title:n,children:[Object(d.jsx)("strong",{children:"DNA:"})," ",Object(O.a)(n)]})})]})}),Object(d.jsx)(x,{width:"100%"})]})},g=c(116),p=c(5),w=c.n(p),N=c(130),y=c(166),C=Object(y.a)((function(e){return e.nftAvatars}),(function(e){return e})),k=Object(y.a)(C,(function(e){return e.nftIds})),E=Object(y.a)(C,(function(e){return e.nfts})),S=c(186),F=c(1361),z=c(220),D=function(){var e=function(){var e=Object(z.a)(),t=e.account,c=e.library,n=Object(N.c)(),a=Object(N.d)(k),r=Object(l.useCallback)(Object(g.a)(w.a.mark((function e(){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=new c.eth.Contract(F,"0x9baDf9d1c6C8551154B36bF7fF058EE5dFE16B8a"),n(S.b.pending()),a.methods.walletOfOwner(t).call().then((function(e){return n(S.b.fulfilled(e))})).catch((function(e){throw console.log("Failed to get nft ids",e),n(S.b.rejected(e)),e}));case 3:case"end":return e.stop()}}),e)}))),[c,n]);return Object(l.useEffect)((function(){t&&r()}),[t]),a}(),t=Object(z.a)(),c=t.account,a=t.library,r=Object(N.c)(),i=Object(N.d)(E),s=Object(l.useCallback)(Object(g.a)(w.a.mark((function t(){var c,l;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c=new a.eth.Contract(F,"0x9baDf9d1c6C8551154B36bF7fF058EE5dFE16B8a"),l=e.reduce((function(e,t){return[].concat(Object(n.a)(e),[c.methods.tokenURI(t).call()])}),[]),r(S.a.pending()),console.log({promises:l}),Promise.all(l).then((function(e){var t=e.reduce((function(e,t){var c=t.replace(/^ipfs?:\/\//,"https://nomadzland.mypinata.cloud/ipfs/");return console.log({newUri:c}),[].concat(Object(n.a)(e),[fetch(c).then((function(e){return e.json()}))])}),[]);Promise.all(t).then((function(e){r(S.a.fulfilled(e))})).catch((function(e){throw console.log("Failed to get nfts",e),r(S.a.rejected(e)),e}))})).catch((function(e){throw console.log("Failed to get nfts",e),r(S.a.rejected(e)),e}));case 5:case"end":return t.stop()}}),t)}))),[e,a,r]);return Object(l.useEffect)((function(){c&&e.length>0&&s()}),[c,e]),i},I=c(1351),B=c(303),M=Object(y.a)((function(e){return e.profile}),(function(e){return e}));function R(e,t,c){var a=function(e,t){var c=Object(l.useRef)(e),n=Object(l.useRef)();Object(l.useEffect)((function(){c.current=e}),[e]);var a=Object(l.useCallback)((function(){n.current=setTimeout((function(){return c.current()}),t)}),[t]),r=Object(l.useCallback)((function(){n.current&&clearTimeout(n.current)}),[]);return Object(l.useEffect)((function(){return a(),r}),[t,a,r]),{reset:Object(l.useCallback)((function(){r(),a()}),[r,a]),clear:r}}(e,t),r=a.reset,i=a.clear;Object(l.useEffect)(r,[].concat(Object(n.a)(c),[r])),Object(l.useEffect)(i,[])}var A=function(){var e=Object(N.d)(M).avatar,t=Object(l.useState)(e),c=Object(a.a)(t,2),n=c[0],r=c[1],i=function(){var e=Object(z.a)().account,t=Object(N.c)();return Object(l.useCallback)((function(c,n){t(B.c({address:e,avatar:c})).then((function(){return n()}))}),[t])}(),s=Object(N.c)();return R((function(){n!==e&&e&&i(e,(function(){return r(e)}))}),2e3,[e,n]),Object(l.useCallback)((function(e){s(B.b(e))}),[s])};t.default=function(){D(),function(){var e=Object(z.a)().account,t=Object(N.d)(E),c=Object(N.c)(),n=Object(l.useCallback)(Object(g.a)(w.a.mark((function n(){return w.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:c(B.a(e)).then((function(n){var a;if(null!==n&&void 0!==n&&n.error&&"Profile doesn't exist"===(null===n||void 0===n?void 0:n.payload.message)&&c(B.c({address:e,avatar:t[0].edition.toString()})),null!==n&&void 0!==n&&null!==(a=n.payload)&&void 0!==a&&a.profile){var l=n.payload.profile.avatar;-1===t.findIndex((function(e){return e.edition.toString()===l}))&&c(B.c({address:e,avatar:t[0].edition.toString()}))}}));case 1:case"end":return n.stop()}}),n)}))),[t,e,c]);Object(l.useEffect)((function(){e&&t.length>0&&n()}),[e,t])}();var e=Object(I.a)(),t=Object(N.d)(C),c=t.fetch,o=t.nfts,u=function(){var e=Object(N.d)(E),t=Object(N.d)(M).avatar,c=e.findIndex((function(e){return e.edition.toString()===t}));return-1!==c?{index:c,avatar:e[c]}:{index:null,avatar:null}}(),j=u.index,b=u.avatar,x=Object(I.d)(),h=(x.fetch,x.nfts,A()),O=Object(l.useState)([]),v=Object(a.a)(O,2),p=v[0],y=v[1],k=Object(l.useCallback)((function(){j===o.length-1&&h(o[0].edition.toString()),j!==o.length-1&&h(o[j+1].edition.toString())}),[o,j]),S=Object(l.useCallback)((function(){0===j&&h(o[o.length-1].edition.toString()),0!==j&&h(o[j-1].edition.toString())}),[o,j]);return Object(l.useEffect)((function(){if(e.length>0){var t=e.reduce((function(e,t){var c=t.attributes[0].value;return[].concat(Object(n.a)(e),[{id:c,title:c,nft:t.image}])}),[]);y(t)}}),[e]),Object(d.jsx)("div",{className:"flex-1 flex bg-blue-7",children:Object(d.jsx)("div",{className:"max-w-1280px flex-1 mx-auto flex flex-row bg-blue-4",children:Object(d.jsxs)("div",{className:"flex flex-col lg:flex-row h-full",children:[Object(d.jsx)("div",{className:"w-full lg:w-3/12 2xl:w-96  border-b-2 lg:border-r-2 border-blue-5 h-full pt-8 lg:pt-16 pb-4",children:Object(d.jsx)("div",{className:"w-full flex flex-col justify-center items-center ",children:Object(d.jsxs)("div",{className:"w-80 lg:w-56 xl:w-72 2xl:w-20rem",children:[Object(d.jsx)(f,{loading:!c,nftsLength:null===o||void 0===o?void 0:o.length,image:null===b||void 0===b?void 0:b.image}),(null===b||void 0===b?void 0:b.dna)&&Object(d.jsx)(m,{className:"mt-5",nftDNA:null===b||void 0===b?void 0:b.dna,nftId:null===b||void 0===b?void 0:b.name}),o.length>1&&Object(d.jsxs)("div",{className:"flex flex-row items-center justify-center h-full mt-5",children:[Object(d.jsx)("div",{className:"flex-1 flex justify-center",children:Object(d.jsx)("button",{disabled:0===o.length||1===o.length,onClick:function(){return S()},className:"text-3xl text-primary disabled:opacity-70 transform active:scale-75",children:Object(d.jsx)(r.a,{})})}),Object(d.jsx)("div",{className:"flex-1 flex justify-center text-primary",children:Object(d.jsx)("button",{disabled:0===o.length||1===o.length,onClick:function(){return k()},className:"text-3xl disabled:opacity-70 transform active:scale-75",children:Object(d.jsx)(r.b,{})})})]})]})})}),Object(d.jsx)("div",{className:"flex-1",children:Object(d.jsx)(i.b,{tabContainerClassName:" px-6 2xl:px-10",panelContainerClassName:"py-16 bg-blue-4 ",children:Object(d.jsx)(i.a,{tab:"Destinations",className:"px-6 2xl:px-10",children:Object(d.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-4 gap-4",children:p.map((function(e){return Object(d.jsx)("div",{children:Object(d.jsx)(s.a,{id:e.id,nft:e.nft,title:e.title,isProfile:!0})},"".concat(e.country,"-").concat(e.title))}))})})})})]})})})}}}]);
//# sourceMappingURL=8.69196363.chunk.js.map